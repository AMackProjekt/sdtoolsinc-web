(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3273:function(e,t,r){Promise.resolve().then(r.t.bind(r,7960,23)),Promise.resolve().then(r.bind(r,4210))},4210:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return u},a:function(){return a}});var o=r(7437),n=r(2265);let s=(0,n.createContext)(void 0);function u(e){let{children:t}=e,[r,u]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=localStorage.getItem("user-session");if(e)try{u(JSON.parse(atob(e)))}catch(e){localStorage.removeItem("user-session")}},[]);let a=async(e,t,r)=>{try{let o={id:Date.now().toString(),email:e,name:r,enrolledCourses:[],completedLessons:[],preferences:{notifications:!0,emailUpdates:!0,theme:"dark"}},n=btoa(JSON.stringify(o));return localStorage.setItem("user-session",n),localStorage.setItem("pwd-".concat(e),btoa(t)),u(o),!0}catch(e){return!1}},i=async(e,t)=>{try{let r=localStorage.getItem("pwd-".concat(e));if(!r||atob(r)!==t)return!1;let o=localStorage.getItem("user-session");if(o)return u(JSON.parse(atob(o))),!0;return!1}catch(e){return!1}};return(0,o.jsx)(s.Provider,{value:{user:r,login:i,signup:a,logout:()=>{localStorage.removeItem("user-session"),u(null)},updateProfile:e=>{if(!r)return;let t={...r,...e};u(t);let o=btoa(JSON.stringify(t));localStorage.setItem("user-session",o)},isAuthenticated:!!r},children:t})}function a(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7960:function(){}},function(e){e.O(0,[587,971,117,744],function(){return e(e.s=3273)}),_N_E=e.O()}]);