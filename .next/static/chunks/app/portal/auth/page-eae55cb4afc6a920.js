(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{9647:function(e,t,r){Promise.resolve().then(r.bind(r,6634))},6634:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r(7437),n=r(2265),a=r(521),o=r(4210),l=r(9376),i=r(4502);function c(){let[e,t]=(0,n.useState)(!0),[r,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),[h,b]=(0,n.useState)(""),[f,g]=(0,n.useState)(!1),{login:p,signup:v}=(0,o.a)(),y=(0,l.useRouter)(),j=async t=>{t.preventDefault(),b(""),g(!0);try{(e?await p(r,d):await v(r,d,m))?y.push("/portal/dashboard"):b(e?"Invalid credentials":"Signup failed")}catch(e){b("An error occurred. Please try again.")}finally{g(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-bg flex items-center justify-center px-7",children:[(0,s.jsx)("div",{className:"pointer-events-none fixed inset-0 -z-10 bg-dash-glow"}),(0,s.jsxs)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-extrabold tracking-tight text-text",children:e?"Welcome Back":"Create Account"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-muted",children:e?"Sign in to access your learning portal":"Start your journey with T.O.O.L.S Inc"})]}),(0,s.jsxs)("div",{className:"rounded-xl bg-panel border border-border p-8 shadow-glow",children:[(0,s.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[!e&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-text mb-2",children:"Full Name"}),(0,s.jsx)("input",{id:"name",type:"text",value:m,onChange:e=>x(e.target.value),required:!e,className:"w-full rounded-lg bg-bg border border-border px-4 py-3 text-text placeholder:text-muted focus:outline-none focus:ring-2 focus:ring-brand/50",placeholder:"Enter your name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-text mb-2",children:"Email Address"}),(0,s.jsx)("input",{id:"email",type:"email",value:r,onChange:e=>c(e.target.value),required:!0,className:"w-full rounded-lg bg-bg border border-border px-4 py-3 text-text placeholder:text-muted focus:outline-none focus:ring-2 focus:ring-brand/50",placeholder:"you@example.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-text mb-2",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",value:d,onChange:e=>u(e.target.value),required:!0,minLength:8,className:"w-full rounded-lg bg-bg border border-border px-4 py-3 text-text placeholder:text-muted focus:outline-none focus:ring-2 focus:ring-brand/50",placeholder:"••••••••"}),!e&&(0,s.jsx)("p",{className:"mt-1 text-xs text-muted",children:"Must be at least 8 characters"})]}),h&&(0,s.jsx)("div",{className:"rounded-lg bg-red-500/10 border border-red-500/30 px-4 py-3 text-sm text-red-400",children:h}),(0,s.jsx)("button",{type:"submit",disabled:f,className:(0,i.cn)("w-full rounded-lg px-6 py-3 font-semibold transition-all","bg-gradient-to-br from-brand to-brand2 text-[#02131a]","hover:shadow-glow",f&&"opacity-50 cursor-not-allowed"),children:f?"Please wait...":e?"Sign In":"Create Account"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("button",{onClick:()=>{t(!e),b("")},className:"text-sm text-brand hover:text-brand2 transition-colors",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})}),(0,s.jsx)("div",{className:"mt-6 pt-6 border-t border-border",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted",children:[(0,s.jsx)("svg",{className:"h-4 w-4 text-brand",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,s.jsx)("span",{children:"Secured with AES-256 encryption"})]})})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("a",{href:"/",className:"text-sm text-muted hover:text-text transition-colors",children:"← Back to home"})})]})]})}},4210:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return o},a:function(){return l}});var s=r(7437),n=r(2265);let a=(0,n.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=localStorage.getItem("user-session");if(e)try{o(JSON.parse(atob(e)))}catch(e){localStorage.removeItem("user-session")}},[]);let l=async(e,t,r)=>{try{let s={id:Date.now().toString(),email:e,name:r,enrolledCourses:[],completedLessons:[],preferences:{notifications:!0,emailUpdates:!0,theme:"dark"}},n=btoa(JSON.stringify(s));return localStorage.setItem("user-session",n),localStorage.setItem("pwd-".concat(e),btoa(t)),o(s),!0}catch(e){return!1}},i=async(e,t)=>{try{let r=localStorage.getItem("pwd-".concat(e));if(!r||atob(r)!==t)return!1;let s=localStorage.getItem("user-session");if(s)return o(JSON.parse(atob(s))),!0;return!1}catch(e){return!1}};return(0,s.jsx)(a.Provider,{value:{user:r,login:i,signup:l,logout:()=>{localStorage.removeItem("user-session"),o(null)},updateProfile:e=>{if(!r)return;let t={...r,...e};o(t);let s=btoa(JSON.stringify(t));localStorage.setItem("user-session",s)},isAuthenticated:!!r},children:t})}function l(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4502:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(1994),n=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[824,971,117,744],function(){return e(e.s=9647)}),_N_E=e.O()}]);